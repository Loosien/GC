"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5362],{75362:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(67294),a=r(61688),i=r(10046);let u=n.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),s={dedupe:!0};i.$l.defineProperty(i.J$,"defaultValue",{value:i.u_});let o=(0,i.s6)((e,t,r)=>{let{cache:o,compare:l,suspense:c,fallbackData:g,revalidateOnMount:d,revalidateIfStale:f,refreshInterval:C,refreshWhenHidden:E,refreshWhenOffline:h,keepPreviousData:R}=r,[S,k,w,p]=i.DY.get(o),[V,b]=(0,i.qC)(e),_=(0,n.useRef)(!1),T=(0,n.useRef)(!1),L=(0,n.useRef)(V),v=(0,n.useRef)(t),m=(0,n.useRef)(r),getConfig=()=>m.current,isActive=()=>getConfig().isVisible()&&getConfig().isOnline(),[M,O,A,N]=(0,i.JN)(o,V),y=(0,n.useRef)({}).current,D=(0,i.o8)(g)?r.fallback[V]:g,isEqual=(e,t)=>{for(let r in y)if("data"===r){if(!l(e[r],t[r])&&(!(0,i.o8)(e[r])||!l(J,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},q=(0,n.useMemo)(()=>{let e=!!V&&!!t&&((0,i.o8)(d)?!getConfig().isPaused()&&!c&&(!!(0,i.o8)(f)||f):d),getSelectedCache=t=>{let r=(0,i.PM)(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},r=M(),n=N(),a=getSelectedCache(r),u=r===n?a:getSelectedCache(n),s=a;return[()=>{let e=getSelectedCache(M()),t=isEqual(e,s);return t?(s.data=e.data,s.isLoading=e.isLoading,s.isValidating=e.isValidating,s.error=e.error,s):(s=e,e)},()=>u]},[o,V]),I=(0,a.useSyncExternalStore)((0,n.useCallback)(e=>A(V,(t,r)=>{isEqual(r,t)||e()}),[o,V]),q[0],q[1]),P=!_.current,x=S[V]&&S[V].length>0,j=I.data,U=(0,i.o8)(j)?D:j,F=I.error,W=(0,n.useRef)(U),J=R?(0,i.o8)(j)?W.current:j:U,Y=(!x||!!(0,i.o8)(F))&&(P&&!(0,i.o8)(d)?d:!getConfig().isPaused()&&(c?!(0,i.o8)(U)&&f:(0,i.o8)(U)||f)),$=!!(V&&t&&P&&Y),B=(0,i.o8)(I.isValidating)?$:I.isValidating,Z=(0,i.o8)(I.isLoading)?$:I.isLoading,z=(0,n.useCallback)(async e=>{let t,n;let a=v.current;if(!V||!a||T.current||getConfig().isPaused())return!1;let u=!0,s=e||{},o=!w[V]||!s.dedupe,callbackSafeguard=()=>i.w6?!T.current&&V===L.current&&_.current:V===L.current,c={isValidating:!1,isLoading:!1},finishRequestAndUpdateState=()=>{O(c)},cleanupState=()=>{let e=w[V];e&&e[1]===n&&delete w[V]},g={isValidating:!0};(0,i.o8)(M().data)&&(g.isLoading=!0);try{if(o&&(O(g),r.loadingTimeout&&(0,i.o8)(M().data)&&setTimeout(()=>{u&&callbackSafeguard()&&getConfig().onLoadingSlow(V,r)},r.loadingTimeout),w[V]=[a(b),(0,i.u3)()]),[t,n]=w[V],t=await t,o&&setTimeout(cleanupState,r.dedupingInterval),!w[V]||w[V][1]!==n)return o&&callbackSafeguard()&&getConfig().onDiscarded(V),!1;c.error=i.i_;let e=k[V];if(!(0,i.o8)(e)&&(n<=e[0]||n<=e[1]||0===e[1]))return finishRequestAndUpdateState(),o&&callbackSafeguard()&&getConfig().onDiscarded(V),!1;let s=M().data;c.data=l(s,t)?s:t,o&&callbackSafeguard()&&getConfig().onSuccess(t,V,r)}catch(r){cleanupState();let e=getConfig(),{shouldRetryOnError:t}=e;!e.isPaused()&&(c.error=r,o&&callbackSafeguard()&&(e.onError(r,V,e),(!0===t||(0,i.mf)(t)&&t(r))&&(!getConfig().revalidateOnFocus||!getConfig().revalidateOnReconnect||isActive())&&e.onErrorRetry(r,V,e,e=>{let t=S[V];t&&t[0]&&t[0](i.sj.ERROR_REVALIDATE_EVENT,e)},{retryCount:(s.retryCount||0)+1,dedupe:!0})))}return u=!1,finishRequestAndUpdateState(),!0},[V,o]),G=(0,n.useCallback)((...e)=>(0,i.BN)(o,L.current,...e),[]);if((0,i.LI)(()=>{v.current=t,m.current=r,(0,i.o8)(j)||(W.current=j)}),(0,i.LI)(()=>{if(!V)return;let e=z.bind(i.i_,s),t=0,r=(0,i.ko)(V,S,(r,n={})=>{if(r==i.sj.FOCUS_EVENT){let r=Date.now();getConfig().revalidateOnFocus&&r>t&&isActive()&&(t=r+getConfig().focusThrottleInterval,e())}else if(r==i.sj.RECONNECT_EVENT)getConfig().revalidateOnReconnect&&isActive()&&e();else if(r==i.sj.MUTATE_EVENT)return z();else if(r==i.sj.ERROR_REVALIDATE_EVENT)return z(n)});return T.current=!1,L.current=V,_.current=!0,O({_k:b}),Y&&((0,i.o8)(U)||i.W6?e():(0,i.kw)(e)),()=>{T.current=!0,r()}},[V]),(0,i.LI)(()=>{let e;function next(){let t=(0,i.mf)(C)?C(M().data):C;t&&-1!==e&&(e=setTimeout(execute,t))}function execute(){!M().error&&(E||getConfig().isVisible())&&(h||getConfig().isOnline())?z(s).then(next):next()}return next(),()=>{e&&(clearTimeout(e),e=-1)}},[C,E,h,V]),(0,n.useDebugValue)(J),c&&(0,i.o8)(U)&&V){if(!i.w6&&i.W6)throw Error("Fallback data is required when using suspense in SSR.");v.current=t,m.current=r,T.current=!1;let e=p[V];if(!(0,i.o8)(e)){let t=G(e);u(t)}if((0,i.o8)(F)){let e=z(s);(0,i.o8)(J)||(e.status="fulfilled",e.value=!0),u(e)}else throw F}return{mutate:G,get data(){return y.data=!0,J},get error(){return y.error=!0,F},get isValidating(){return y.isValidating=!0,B},get isLoading(){return y.isLoading=!0,Z}}}),l=i.w6?e=>{e()}:n.startTransition,useStateWithDeps=e=>{let[,t]=(0,n.useState)({}),r=(0,n.useRef)(!1),a=(0,n.useRef)(e),u=(0,n.useRef)({data:!1,error:!1,isValidating:!1}),s=(0,n.useCallback)(e=>{let n=!1,i=a.current;for(let t in e)i[t]!==e[t]&&(i[t]=e[t],u.current[t]&&(n=!0));n&&!r.current&&t({})},[]);return(0,i.LI)(()=>(r.current=!1,()=>{r.current=!0})),[a,u.current,s]},c=(0,i.xD)(o,()=>(e,t,r={})=>{let{mutate:a}=(0,i.kY)(),u=(0,n.useRef)(e),s=(0,n.useRef)(t),o=(0,n.useRef)(r),c=(0,n.useRef)(0),[g,d,f]=useStateWithDeps({data:i.i_,error:i.i_,isMutating:!1}),C=g.current,E=(0,n.useCallback)(async(e,t)=>{let[r,n]=(0,i.qC)(u.current);if(!s.current)throw Error("Can’t trigger the mutation: missing fetcher.");if(!r)throw Error("Can’t trigger the mutation: missing key.");let g=(0,i.PM)((0,i.PM)({populateCache:!1,throwOnError:!0},o.current),t),d=(0,i.u3)();c.current=d,f({isMutating:!0});try{let t=await a(r,s.current(n,{arg:e}),(0,i.PM)(g,{throwOnError:!0}));return c.current<=d&&(l(()=>f({data:t,isMutating:!1,error:void 0})),null==g.onSuccess||g.onSuccess.call(g,t,r,g)),t}catch(e){if(c.current<=d&&(l(()=>f({error:e,isMutating:!1})),null==g.onError||g.onError.call(g,e,r,g),g.throwOnError))throw e}},[]),h=(0,n.useCallback)(()=>{c.current=(0,i.u3)(),f({data:i.i_,error:i.i_,isMutating:!1})},[]);return(0,i.LI)(()=>{u.current=e,s.current=t,o.current=r}),{trigger:E,reset:h,get data(){return d.data=!0,C.data},get error(){return d.error=!0,C.error},get isMutating(){return d.isMutating=!0,C.isMutating}}})}}]);
//# sourceMappingURL=5362-035cbac4d60fe451.js.map